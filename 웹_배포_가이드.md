# 🌐 유튜브 자막 추출기 웹 배포 가이드

이 가이드는 GitHub를 통해 웹 애플리케이션을 인터넷에 배포하는 방법을 초보자도 이해할 수 있도록 단계별로 설명합니다.

## 📋 목차

1. [배포 옵션 선택](#배포-옵션-선택)
2. [방법 1: Render (무료, 추천)](#방법-1-render-무료-추천)
3. [방법 2: Railway (무료 체험)](#방법-2-railway-무료-체험)
4. [방법 3: PythonAnywhere (무료)](#방법-3-pythonanywhere-무료)
5. [환경 변수 설정](#환경-변수-설정)
6. [문제 해결](#문제-해결)

---

## 배포 옵션 선택

### 🎯 추천: Render (가장 쉬움)
- **장점**: GitHub 연동 자동, 무료 플랜, 설정 간단
- **단점**: 무료 플랜은 15분 미사용 시 슬립 모드
- **추천 대상**: 초보자, 빠른 배포를 원하는 사람

### Railway
- **장점**: 빠른 배포, 좋은 UI
- **단점**: 무료 크레딧 소진 후 유료
- **추천 대상**: 프로토타입 테스트

### PythonAnywhere
- **장점**: 완전 무료
- **단점**: 설정이 다소 복잡
- **추천 대상**: 비용이 중요한 사람

---

## 방법 1: Render (무료, 추천)

### 📝 준비물
- GitHub 계정 (이미 있음 ✅)
- Render 계정 (무료로 만들 예정)
- OpenAI API 키
- Webshare 프록시 정보

### 🚀 단계별 가이드

#### 1단계: Render 계정 만들기

1. **Render 웹사이트 방문**
   ```
   https://render.com
   ```

2. **Sign Up 클릭**
   - "Sign up with GitHub" 선택
   - GitHub 계정으로 로그인
   - Render에 권한 허용

3. **계정 생성 완료** ✅

#### 2단계: 프로젝트 준비

현재 프로젝트에 배포 설정 파일을 추가해야 합니다.

**2-1. requirements.txt 확인**

이미 있는 파일입니다. 내용 확인:
```txt
youtube-transcript-api>=1.1.1
flask>=2.3.0
openai>=1.0.0
```

**2-2. runtime.txt 생성**

프로젝트 폴더에 `runtime.txt` 파일을 만들고 다음 내용 입력:
```txt
python-3.11.0
```

**2-3. Procfile 생성**

프로젝트 폴더에 `Procfile` 파일을 만들고 다음 내용 입력:
```
web: python app.py
```

**2-4. app.py 수정**

`app.py` 파일의 마지막 부분을 다음과 같이 수정:

```python
if __name__ == '__main__':
    print("="*80)
    print("유튜브 자막 추출 웹 애플리케이션")
    print("="*80)
    print("\n서버가 시작되었습니다!")
    
    # Render 배포를 위한 설정
    port = int(os.environ.get('PORT', 8080))
    app.run(debug=False, host='0.0.0.0', port=port)
```

#### 3단계: GitHub에 변경사항 푸시

```bash
# 1. 파일 추가
git add .

# 2. 커밋
git commit -m "Add deployment files for Render"

# 3. GitHub에 푸시
git push
```

#### 4단계: Render에서 웹 서비스 만들기

1. **Render 대시보드 접속**
   ```
   https://dashboard.render.com
   ```

2. **New + 버튼 클릭**
   - "Web Service" 선택

3. **GitHub 저장소 연결**
   - "Connect a repository" 클릭
   - `youtubesummary` 저장소 선택
   - "Connect" 클릭

4. **서비스 설정**
   
   **Name (이름)**
   ```
   youtube-transcript-extractor
   ```
   (또는 원하는 이름)

   **Region (지역)**
   ```
   Singapore (가장 가까운 지역)
   ```

   **Branch (브랜치)**
   ```
   main
   ```

   **Runtime (런타임)**
   ```
   Python 3
   ```

   **Build Command (빌드 명령)**
   ```
   pip install -r requirements.txt
   ```

   **Start Command (시작 명령)**
   ```
   python app.py
   ```

   **Instance Type (인스턴스 타입)**
   ```
   Free (무료 선택)
   ```

5. **환경 변수 설정** (중요! ⚠️)

   "Advanced" 섹션을 펼치고 "Add Environment Variable" 클릭:

   ```
   OPENAI_API_KEY = 실제-OpenAI-API-키를-여기에-입력

   WEBSHARE_PROXY_USERNAME = 실제-프록시-사용자명

   WEBSHARE_PROXY_PASSWORD = 실제-프록시-비밀번호
   ```

6. **Create Web Service 클릭**

#### 5단계: 배포 완료 기다리기

- 배포 로그가 화면에 표시됩니다
- "Live" 상태가 되면 배포 완료! ✅
- 약 3-5분 소요

#### 6단계: 웹사이트 접속

배포가 완료되면 다음과 같은 URL이 생성됩니다:
```
https://youtube-transcript-extractor.onrender.com
```

이 URL로 접속하면 웹 애플리케이션을 사용할 수 있습니다! 🎉

---

## 방법 2: Railway (무료 체험)

### 🚀 단계별 가이드

#### 1단계: Railway 계정 만들기

1. **Railway 웹사이트 방문**
   ```
   https://railway.app
   ```

2. **Login with GitHub**
   - GitHub 계정으로 로그인
   - 권한 허용

#### 2단계: 프로젝트 배포

1. **New Project 클릭**

2. **Deploy from GitHub repo 선택**

3. **저장소 선택**
   - `youtubesummary` 선택

4. **Add variables 클릭**
   
   환경 변수 추가:
   ```
   OPENAI_API_KEY = 실제-API-키
   WEBSHARE_PROXY_USERNAME = kccho888
   WEBSHARE_PROXY_PASSWORD = websharekccho888754
   ```

5. **Deploy 클릭**

6. **Settings 탭으로 이동**
   - "Generate Domain" 클릭
   - 생성된 URL로 접속

---

## 방법 3: PythonAnywhere (무료)

### 🚀 단계별 가이드

#### 1단계: PythonAnywhere 계정 만들기

1. **PythonAnywhere 웹사이트 방문**
   ```
   https://www.pythonanywhere.com
   ```

2. **Pricing 클릭**
   - "Create a Beginner account" 선택 (무료)

3. **계정 정보 입력**
   - Username, Email, Password 입력
   - 계정 생성

#### 2단계: 웹 앱 만들기

1. **Web 탭 클릭**

2. **Add a new web app 클릭**

3. **Flask 선택**
   - Python 3.10 선택

4. **프로젝트 경로 설정**
   ```
   /home/yourusername/mysite
   ```

#### 3단계: 코드 업로드

1. **Consoles 탭 클릭**

2. **Bash 콘솔 시작**

3. **GitHub에서 코드 가져오기**
   ```bash
   cd ~
   git clone https://github.com/kccho88/youtubesummary.git
   cd youtubesummary
   ```

4. **라이브러리 설치**
   ```bash
   pip3 install --user -r requirements.txt
   ```

#### 4단계: 환경 변수 설정

1. **Web 탭으로 돌아가기**

2. **Environment variables 섹션**
   - "Go to directory" 클릭
   - `.env` 파일 생성
   ```
   OPENAI_API_KEY=실제-API-키
   WEBSHARE_PROXY_USERNAME=kccho888
   WEBSHARE_PROXY_PASSWORD=websharekccho888754
   ```

#### 5단계: WSGI 설정

1. **Web 탭의 WSGI configuration file 클릭**

2. **파일 내용을 다음으로 교체**
   ```python
   import sys
   import os
   
   # 프로젝트 경로 추가
   path = '/home/yourusername/youtubesummary'
   if path not in sys.path:
       sys.path.append(path)
   
   # 환경 변수 로드
   from dotenv import load_dotenv
   load_dotenv(os.path.join(path, '.env'))
   
   # Flask 앱 임포트
   from app import app as application
   ```

3. **저장**

#### 6단계: 웹 앱 재시작

1. **Web 탭으로 돌아가기**
2. **Reload 버튼 클릭**
3. **생성된 URL로 접속**
   ```
   https://yourusername.pythonanywhere.com
   ```

---

## 환경 변수 설정

### 🔐 중요한 정보

모든 배포 플랫폼에서 다음 환경 변수를 설정해야 합니다:

```
OPENAI_API_KEY = 실제-OpenAI-API-키를-여기에-입력

WEBSHARE_PROXY_USERNAME = 실제-프록시-사용자명

WEBSHARE_PROXY_PASSWORD = 실제-프록시-비밀번호
```

### ⚠️ 주의사항

- 환경 변수는 절대 GitHub에 올리지 마세요
- 각 배포 플랫폼의 설정 페이지에서 입력하세요
- 값을 입력할 때 따옴표는 넣지 마세요

---

## 문제 해결

### 🐛 자주 발생하는 문제

#### 1. "Application Error" 또는 500 에러

**원인**: 환경 변수가 설정되지 않음

**해결방법**:
1. 배포 플랫폼의 환경 변수 설정 확인
2. 모든 3개의 환경 변수가 정확히 입력되었는지 확인
3. 웹 서비스 재시작

#### 2. "Module not found" 에러

**원인**: 라이브러리가 설치되지 않음

**해결방법**:
1. `requirements.txt` 파일 확인
2. 빌드 로그에서 설치 오류 확인
3. 필요시 수동으로 재배포

#### 3. 웹사이트가 느림

**원인**: 무료 플랜의 제한

**해결방법**:
- Render: 15분 미사용 시 슬립 모드 → 첫 접속 시 30초 대기
- 자주 사용하면 빨라집니다

#### 4. GPT 기능이 작동하지 않음

**원인**: OpenAI API 키 문제

**해결방법**:
1. API 키가 올바른지 확인
2. OpenAI 계정에 크레딧이 있는지 확인
3. API 키가 활성화되어 있는지 확인

---

## 📊 배포 플랫폼 비교

| 플랫폼 | 무료 플랜 | 설정 난이도 | 속도 | 추천도 |
|--------|-----------|-------------|------|--------|
| **Render** | ✅ 무료 | ⭐ 쉬움 | 🚀 빠름 | ⭐⭐⭐⭐⭐ |
| **Railway** | 💰 체험 | ⭐⭐ 보통 | 🚀 빠름 | ⭐⭐⭐⭐ |
| **PythonAnywhere** | ✅ 무료 | ⭐⭐⭐ 어려움 | 🐌 느림 | ⭐⭐⭐ |

---

## 🎉 배포 완료 후 할 일

### 1. 테스트
- 웹사이트 접속 확인
- 자막 추출 기능 테스트
- GPT 맞춤법 검사 테스트
- GPT 요약 기능 테스트

### 2. URL 공유
- 친구들과 공유
- README.md에 라이브 데모 링크 추가

### 3. 모니터링
- 배포 플랫폼의 로그 확인
- 오류 발생 시 빠르게 대응

### 4. 업데이트
```bash
# 코드 수정 후
git add .
git commit -m "Update: 변경 내용"
git push

# 자동으로 재배포됨!
```

---

## 💡 추가 팁

### 커스텀 도메인 사용하기

무료 플랜에서도 커스텀 도메인을 연결할 수 있습니다:

1. **도메인 구매** (예: Namecheap, GoDaddy)
2. **DNS 설정**
   - Render의 경우: CNAME 레코드 추가
3. **배포 플랫폼에서 도메인 연결**

### HTTPS 자동 적용

모든 플랫폼에서 HTTPS가 자동으로 적용됩니다! 🔒

### 로그 확인하기

- **Render**: Logs 탭
- **Railway**: Deployments → Logs
- **PythonAnywhere**: Error log, Server log

---

## 📞 도움이 필요하신가요?

### 공식 문서
- [Render 문서](https://render.com/docs)
- [Railway 문서](https://docs.railway.app)
- [PythonAnywhere 문서](https://help.pythonanywhere.com)

### GitHub Issues
프로젝트 저장소에 이슈를 등록하세요:
```
https://github.com/kccho88/youtubesummary/issues
```

---

## ✅ 체크리스트

배포 전 확인사항:

- [ ] GitHub에 코드 푸시 완료
- [ ] `requirements.txt` 파일 존재
- [ ] `runtime.txt` 파일 생성 (Render용)
- [ ] `Procfile` 파일 생성 (Render용)
- [ ] `app.py`에서 포트 설정 수정
- [ ] OpenAI API 키 준비
- [ ] Webshare 프록시 정보 준비
- [ ] 배포 플랫폼 계정 생성
- [ ] 환경 변수 설정 완료
- [ ] 배포 완료 및 테스트

---

**축하합니다! 🎉**

이제 여러분의 유튜브 자막 추출 웹 애플리케이션이 인터넷에 공개되었습니다!

누구나 URL만 있으면 사용할 수 있습니다.

